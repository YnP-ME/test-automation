{"uid":"b8ef8abbe0534c65","name":"test_forgot_password_full_flow","fullName":"dream_platform.ui.tests.test_forgot_password#test_forgot_password_full_flow","historyId":"70d681c9392af80b2287d5dc394b20a7","time":{"start":1769301821955,"stop":1769301879334,"duration":57379},"description":"One full orchestrated test: send email → fetch → reset → verify → restore","descriptionHtml":"<p>One full orchestrated test: send email → fetch → reset → verify → restore</p>\n","status":"failed","statusMessage":"AssertionError: No new password reset email received","statusTrace":"browser_page = <Page url='https://dp.dev.qone-dev.com/password-reset'>\nbase_url = 'https://dp.dev.qone-dev.com/'\n\n    def test_forgot_password_full_flow(browser_page, base_url):\n        \"\"\"One full orchestrated test: send email → fetch → reset → verify → restore\"\"\"\n    \n        # Step 1: Wait for email and extract link\n>       email_content = get_last_reset_email_graph(EMPLOYEE_USERNAME)\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ndream_platform/ui/tests/test_forgot_password.py:43: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser_email = 'test_user@quantumone.ae', max_wait = 60\n\n    def get_last_reset_email_graph(user_email: str, max_wait=60):\n        token = get_access_token()\n        headers = {\"Authorization\": f\"Bearer {token}\"}\n        url = f\"https://graph.microsoft.com/v1.0/users/{user_email}/mailFolders/Inbox/messages?$top=20\"\n    \n        start_time = datetime.now(timezone.utc) - timedelta(seconds=5)\n        end_time = (start_time + timedelta(seconds=max_wait)).timestamp()\n    \n        while datetime.now(timezone.utc).timestamp() < end_time:\n            resp = requests.get(url, headers=headers)\n            resp.raise_for_status()\n            messages = resp.json().get(\"value\", [])\n    \n            for msg in messages:\n                sender = msg.get(\"from\", {}).get(\"emailAddress\", {}).get(\"address\", \"\").lower()\n                received = msg.get(\"receivedDateTime\")\n                if not sender or not received:\n                    continue\n    \n                msg_time = datetime.fromisoformat(received.replace(\"Z\", \"+00:00\"))\n                print(\"DEBUG EMAIL:\", sender, msg_time)\n    \n                if \"inquiries@quantumone.ae\" in sender and msg_time > start_time:\n                    return msg[\"body\"][\"content\"]\n    \n            time.sleep(1)\n    \n>       raise AssertionError(\"No new password reset email received\")\nE       AssertionError: No new password reset email received\n\ndream_platform/conftest.py:147: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"browser_page","time":{"start":1769301716966,"stop":1769301718285,"duration":1319},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"config","time":{"start":1769301718285,"stop":1769301718286,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1769301718286,"stop":1769301718287,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"One full orchestrated test: send email → fetch → reset → verify → restore","status":"failed","statusMessage":"AssertionError: No new password reset email received","statusTrace":"browser_page = <Page url='https://dp.dev.qone-dev.com/password-reset'>\nbase_url = 'https://dp.dev.qone-dev.com/'\n\n    def test_forgot_password_full_flow(browser_page, base_url):\n        \"\"\"One full orchestrated test: send email → fetch → reset → verify → restore\"\"\"\n    \n        # Step 1: Wait for email and extract link\n>       email_content = get_last_reset_email_graph(EMPLOYEE_USERNAME)\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ndream_platform/ui/tests/test_forgot_password.py:43: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser_email = 'test_user@quantumone.ae', max_wait = 60\n\n    def get_last_reset_email_graph(user_email: str, max_wait=60):\n        token = get_access_token()\n        headers = {\"Authorization\": f\"Bearer {token}\"}\n        url = f\"https://graph.microsoft.com/v1.0/users/{user_email}/mailFolders/Inbox/messages?$top=20\"\n    \n        start_time = datetime.now(timezone.utc) - timedelta(seconds=5)\n        end_time = (start_time + timedelta(seconds=max_wait)).timestamp()\n    \n        while datetime.now(timezone.utc).timestamp() < end_time:\n            resp = requests.get(url, headers=headers)\n            resp.raise_for_status()\n            messages = resp.json().get(\"value\", [])\n    \n            for msg in messages:\n                sender = msg.get(\"from\", {}).get(\"emailAddress\", {}).get(\"address\", \"\").lower()\n                received = msg.get(\"receivedDateTime\")\n                if not sender or not received:\n                    continue\n    \n                msg_time = datetime.fromisoformat(received.replace(\"Z\", \"+00:00\"))\n                print(\"DEBUG EMAIL:\", sender, msg_time)\n    \n                if \"inquiries@quantumone.ae\" in sender and msg_time > start_time:\n                    return msg[\"body\"][\"content\"]\n    \n            time.sleep(1)\n    \n>       raise AssertionError(\"No new password reset email received\")\nE       AssertionError: No new password reset email received\n\ndream_platform/conftest.py:147: AssertionError","steps":[],"attachments":[{"uid":"ac121ccea1800622","name":"stdout","source":"ac121ccea1800622.txt","type":"text/plain","size":31500}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"browser_page::teardown","time":{"start":1769301982869,"stop":1769301982911,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"dream_platform.ui.tests"},{"name":"suite","value":"test_forgot_password"},{"name":"host","value":"runnervmymu0l"},{"name":"thread","value":"6156-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"dream_platform.ui.tests.test_forgot_password"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":16,"unknown":0,"total":17},"items":[{"uid":"3b40b0e694aab215","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/3b40b0e694aab215","status":"passed","time":{"start":1769215051712,"stop":1769215067653,"duration":15941}},{"uid":"2e422fc1cdddcd42","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/2e422fc1cdddcd42","status":"passed","time":{"start":1769174721467,"stop":1769174738894,"duration":17427}},{"uid":"76d700d7b27ba878","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/76d700d7b27ba878","status":"passed","time":{"start":1769174165019,"stop":1769174180263,"duration":15244}},{"uid":"81e3cf87859c427","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/81e3cf87859c427","status":"passed","time":{"start":1769173298499,"stop":1769173313960,"duration":15461}},{"uid":"1ae43afd2a5df4cc","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/1ae43afd2a5df4cc","status":"passed","time":{"start":1769169594048,"stop":1769169609658,"duration":15610}},{"uid":"f9a8a9832d9e038e","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/f9a8a9832d9e038e","status":"passed","time":{"start":1769168955174,"stop":1769168971151,"duration":15977}},{"uid":"f19e3b06e56a9d4f","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/f19e3b06e56a9d4f","status":"passed","time":{"start":1769128784674,"stop":1769128799798,"duration":15124}},{"uid":"f1e99a433f544dee","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/f1e99a433f544dee","status":"passed","time":{"start":1769042389635,"stop":1769042405573,"duration":15938}},{"uid":"ac01ded4ea929cc9","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/ac01ded4ea929cc9","status":"passed","time":{"start":1769018689769,"stop":1769018705213,"duration":15444}},{"uid":"30c13841b56b925","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/30c13841b56b925","status":"passed","time":{"start":1769018446946,"stop":1769018462440,"duration":15494}},{"uid":"cdb6b943d15443c2","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/cdb6b943d15443c2","status":"passed","time":{"start":1769017998927,"stop":1769018014887,"duration":15960}},{"uid":"4b76af7a69b22108","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/4b76af7a69b22108","status":"passed","time":{"start":1769017616391,"stop":1769017631818,"duration":15427}},{"uid":"7665c2bf53860c0","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/7665c2bf53860c0","status":"passed","time":{"start":1769016028601,"stop":1769016042475,"duration":13874}},{"uid":"48e6acf6b2f6698a","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/48e6acf6b2f6698a","status":"passed","time":{"start":1769015952037,"stop":1769015967731,"duration":15694}},{"uid":"819c150b830ac5d","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/819c150b830ac5d","status":"passed","time":{"start":1769014870982,"stop":1769014884894,"duration":13912}},{"uid":"83a21ccf860ef7b5","reportUrl":"https://YnP-ME.github.io/test-automation/allure-report//#testresult/83a21ccf860ef7b5","status":"passed","time":{"start":1769014746512,"stop":1769014762323,"duration":15811}}]},"tags":[]},"source":"b8ef8abbe0534c65.json","parameterValues":[]}